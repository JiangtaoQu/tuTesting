# 命名空间和作用域

## 内置的命名空间

存在**python解释器**里的一启动就可以用。例如`print`

## 全局命名空间

程序从上到下被执行的过程中依次加载进内存

![1556439441896](命名空间和作用域.assets/1556439441896.png)

![1556439458038](命名空间和作用域.assets/1556439458038.png)

## 局部命名空间

- 函数内部的名字

- 不是在**定义**函数的时候生成的，而是**调用**函数时生成的，随着函数执行的**结束**，这个命名空间就**回收**了。

![1556439527597](命名空间和作用域.assets/1556439527597.png)

![1556439539752](命名空间和作用域.assets/1556439539752.png)

**变量随着函数执行完毕都消失了**

## 找名字的优先级

![1550200984633](命名空间和作用域.assets/1550200984633.png)

定义了同名的函数时，**局部 > 全局 > 内置**。

### 全局里有用，不用内置的

![1556439591310](命名空间和作用域.assets/1556439591310.png)

![1556439606492](命名空间和作用域.assets/1556439606492.png)

### 局部里有用，不用全局的

![1556439634453](命名空间和作用域.assets/1556439634453.png)

![1556439647073](命名空间和作用域.assets/1556439647073.png)

### 局部命名空间的变量不互相共享

![1556439665819](命名空间和作用域.assets/1556439665819.png)

![1556439700331](命名空间和作用域.assets/1556439700331.png)

## 全局作用域

**内置命名空间、全局命名空间**∈

## 局部作用域

**局部命名空间∈**

## global

- 对于**不可变数据类型**，在局部作用域可**查看**全局作用域的变量，但不能直接修改。

- 如果想要修改需要加个`global`声明，在局部内的所有操作将对全局都有效。

  ![1556440118444](命名空间和作用域.assets/1556440118444.png)

![1556440131629](命名空间和作用域.assets/1556440131629.png)

> 可以查看

![1556440322022](命名空间和作用域.assets/1556440322022.png)

![1556440334263](命名空间和作用域.assets/1556440334263.png)

> 不可修改

![1556440586737](命名空间和作用域.assets/1556440586737.png)

![1556440600485](命名空间和作用域.assets/1556440600485.png)

## locals()

`locals()`能看到**本地**的变量名字。

![1556440631233](命名空间和作用域.assets/1556440631233.png)

![1556440653546](命名空间和作用域.assets/1556440653546.png)

![1556440693008](命名空间和作用域.assets/1556440693008.png)

![1556440722755](命名空间和作用域.assets/1556440722755.png)

## globals ()

`globals()`只能看到**全局作用域**和**内置作用域**的变量名字。

![1556440873370](命名空间和作用域.assets/1556440873370.png)

![1556440899340](命名空间和作用域.assets/1556440899340.png)

## nonlocal()

`global`只能对全局起作用，`nonlocal`只能对**局部**起作用，找**上层最近**的局部变量

![1556440937692](命名空间和作用域.assets/1556440937692.png)

![1556440952408](命名空间和作用域.assets/1556440952408.png)

![1556440978414](命名空间和作用域.assets/1556440978414.png)

![1556440996737](命名空间和作用域.assets/1556440996737.png)

